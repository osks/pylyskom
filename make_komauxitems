#!/usr/bin/env python
# -*- coding: latin-1 -*-
# $Id: make_komauxitems,v 1.2 2007/12/01 13:16:25 kent Exp $
# (C) 2002 Kent Engström. Released under GPL.

# Run this program after updating aux-items.txt to update
# komauxitems.py

import re

inf = open("aux-items.txt")
outf = open("./pylyskom/komauxitems.py", "w")
dictlist = []

outf.write("# AUTOGENERATED by make_komauxitems from aux-items.py\n\n")
for line in inf.readlines():
    m = re.match(r"@item (.*) \[([0-9]+)\] (.*)", line)
    if m:
        (name, no, comment) = m.group(1,2,3)
        komname = "AI_" + name.replace("-","_").upper()
        outf.write("%s = %s # %s\n" % (komname, no, comment))
        dictlist.append((komname, name))

outf.write("\naux_item_number_to_name = {\n")
for (komname, name) in dictlist:
    outf.write('  %s: "%s",\n' % (komname, name))
outf.write("}\n")
    
